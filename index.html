<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Interview Day Waiting list</title>
<meta name="description" content="Description Goes Here">
<link rel="stylesheet" href="style.css">
    <style>
      .st_photo {
          position: fixed;
          right: 0;
          opacity: 0.2;
          height: 90%;
      }
  
      .logo {
          height: 15%;
          background-color: white;
          position: absolute;
          display: flex;
          flex-direction: row;
          align-items: center;
      }
  
      .logo_img {
          position: relative;
          height: 80%;
      }
  
      .sname {
          font-family: serif;
          font-size: xx-large;
          margin: 0;
          font-weight: bold;
          color: #FF9933;
          font-size: 3vw;
      }
  
      .sname_box {
          display: flex;
          flex-direction: row;
          width: 100%;
      }
  
      .space-between {
          justify-content: space-between;
      }
  
      .sename {
          font-family: Arial, sans-serif;
          font-weight: 100;
          font-size: x-large;
          color: #FF9933;
          margin-top: 5px;
      }
  
      .stext {
          display: flex;
          flex-direction: column;
          align-items: flex-start;
          justify-content: flex-end;
          margin-left: 2vw;
      }
  
      table, th, td {
          border: 0px solid;
      }
  
      table {
          position: relative;
          width: 75vw;
          height: 60vh;
          top: 3vh;
      }
  
      .placeholder {
          height: 10vh;
          width: 3vw;
      }
  
      .flex {
          display: flex;
      }
  
      .sub_text {
          font-family: serif;
          font-size: xx-large;
          margin: 0;
          font-weight: bold;
          color: #4DAF8F;
      }
  
      .sub_text_box {
          display: flex;
          flex-direction: column;
          margin-left: 3vw;
      }
  
      .green {
          color: #4DAF8F;
      }
  
      #btnControl1, #btnControl2, #btnControl3, #btnControl4, #btnControl5, #btnControl6 {
          display: none;
      }
  
      .flip-card1, .flip-card2, .flip-card3, .flip-card4, .flip-card5, .flip-card6 {
          background-color: transparent;
          width: 25vw;
          height: 30vh;
          perspective: 1000px;
      }
  
      .flip-card-inner1, .flip-card-inner2, .flip-card-inner3, .flip-card-inner4, .flip-card-inner5, .flip-card-inner6 {
          position: relative;
          width: 100%;
          height: 100%;
          text-align: center;
          transition: transform 1s;
          transform-style: preserve-3d;
          box-shadow: 0 4px 8px 0 rgba(0,0,0,0.3);
      }
  
      #btnControl1:checked + label > .flip-card1 .flip-card-inner1,
      #btnControl2:checked + label > .flip-card2 .flip-card-inner2,
      #btnControl3:checked + label > .flip-card3 .flip-card-inner3,
      #btnControl4:checked + label > .flip-card4 .flip-card-inner4,
      #btnControl5:checked + label > .flip-card5 .flip-card-inner5,
      #btnControl6:checked + label > .flip-card6 .flip-card-inner6 {
          transform: rotateX(900deg);
      }
  
      .flip-card-front, .flip-card-back {
          position: absolute;
          width: 100%;
          height: 100%;
          -webkit-backface-visibility: hidden;
          backface-visibility: hidden;
          display: flex;
          align-items: center;
          justify-content: center;
      }  
  
      .flip-card-front {
          background-color: #2980b9;color: white;
          color: white;
      }
  
      .flip-card-back {
          background-color: #ee6b6e;color: white;
          color: white;
          transform: rotateX(900deg);
      }
  
      .super-font {
          font-size: 8em;
      }
    </style>
</head>
<body>
    <audio id="myAudio" autoplay="">
        <source src="mixkit.wav">
    </audio>

    <audio id="english_speech">
        <source src="english_speech.mp3">
    </audio>

    <audio id="cantonese_speech">
        <source src="cantonese_speech.mp3">
    </audio>

    <audio id="chinese_speech">
        <source src="chinese_speech.mp3">
    </audio>
    
    <img class="st_photo" src="./Joseph-Statue.png">
    <div class="logo">
        <img class="logo_img" src="./Logo.png">
        <div class="stext">
            <div class="sname_box space-between">
                <div class="sname">聖</div><div class="sname">若</div><div class="sname">瑟</div>
                <div class="sname">教</div><div class="sname">區</div><div class="sname">中</div><div class="sname">學</div>
            </div>
            <h3 class="sename">COLÉGIO DIOCESANO DE SÃO JOSÊ</h3>
        </div>
        <div style="margin-left: 8vw;"></div>
        <div class="stext">
            <div class="sname_box space-between">
                <div class="sname green">英</div><div class="sname green">文</div><div class="sname green">部</div>
                <div class="sname green">幼</div><div class="sname green">稚</div><div class="sname green">園</div>
                <div class="sname green">入</div><div class="sname green">學</div><div class="sname green">面</div><div class="sname green">試</div>
            </div>
            <h3 class="sename green">Kindergarten(English Section) Interview Day</h3>
        </div>
    </div>
    <div class="placeholder"></div>
    
    <div style="margin-top: 4vh; margin-left: 1vw; font-size: -webkit-xxx-large; color: darkgray;">請以下編碼的家長到台前集合:</div>
    <div style="margin-left: 1vw; font-size: x-large; color: darkgray;">Parents with the following numbers please come to the front for the next interview:</div>
  
    <table style="margin-left: 1vw;">
        <tbody>
            <tr>
                <td>
                    <input type="checkbox" id="btnControl1">
                    <label class="btn" for="btnControl1">
                        <div class="flip-card1">
                            <div class="flip-card-inner1">
                                <div class="flip-card-front">
                                    <h1 class="super-font" id="Qoos1">13</h1>
                                </div>
                                <div class="flip-card-back">
                                    <h1 class="super-font" id="Qoos2">14</h1>
                                </div>
                            </div>
                        </div>
                    </label>
                </td>
                <td>
                    <input type="checkbox" id="btnControl2">
                    <label class="btn" for="btnControl2">
                        <div class="flip-card2">
                            <div class="flip-card-inner2">
                                <div class="flip-card-front">
                                    <h1 class="super-font" id="Qoos3">000</h1>
                                </div>
                                <div class="flip-card-back">
                                    <h1 class="super-font" id="Qoos4">16</h1>
                                </div>
                            </div>
                        </div>
                    </label>
                </td>
                <td>
                    <input type="checkbox" id="btnControl3">
                    <label class="btn" for="btnControl3">
                        <div class="flip-card3">
                            <div class="flip-card-inner3">
                                <div class="flip-card-front">
                                    <h1 class="super-font" id="Qoos5">000</h1>
                                </div>
                                <div class="flip-card-back">
                                    <h1 class="super-font" id="Qoos6">17</h1>
                                </div>
                            </div>
                        </div>
                    </label>
                </td>
            </tr>
            <tr>
                <td>
                    <input type="checkbox" id="btnControl4">
                    <label class="btn" for="btnControl4">
                        <div class="flip-card4">
                            <div class="flip-card-inner4">
                                <div class="flip-card-front">
                                    <h1 class="super-font" id="Qoos7">000</h1>
                                </div>
                                <div class="flip-card-back">
                                    <h1 class="super-font" id="Qoos8">000</h1>
                                </div>
                            </div>
                        </div>
                    </label>
                </td>
                <td>
                    <input type="checkbox" id="btnControl5">
                    <label class="btn" for="btnControl5">
                        <div class="flip-card5">
                            <div class="flip-card-inner5">
                                <div class="flip-card-front">
                                    <h1 class="super-font" id="Qoos9">000</h1>
                                </div>
                                <div class="flip-card-back">
                                    <h1 class="super-font" id="Qoos10">000</h1>
                                </div>
                            </div>
                        </div>
                    </label>
                </td>
                <td>
                    <input type="checkbox" id="btnControl6">
                    <label class="btn" for="btnControl6">
                        <div class="flip-card6">
                            <div class="flip-card-inner6">
                                <div class="flip-card-front">
                                    <h1 class="super-font" id="Qoos11">000</h1>
                                </div>
                                <div class="flip-card-back">
                                    <h1 class="super-font" id="Qoos12">000</h1>
                                </div>
                            </div>
                        </div>
                    </label>
                </td>
            </tr>
        </tbody>
    </table>

    <!-- Button to manually trigger TTS -->
    <button onclick="speakNumbers()" style="position: fixed; bottom: 10px; right: 10px;">Speak Numbers</button>
  
    <script>
        function doHover1(){ document.getElementById('btnControl1').click(); }
        function doHover2(){ document.getElementById('btnControl2').click(); }
        function doHover3(){ document.getElementById('btnControl3').click(); }
        function doHover4(){ document.getElementById('btnControl4').click(); }
        function doHover5(){ document.getElementById('btnControl5').click(); }
        function doHover6(){ document.getElementById('btnControl6').click(); }
    
        const audio1 = document.getElementById("cantonese_speech");
        const audio2 = document.getElementById("english_speech");
        const audio3 = document.getElementById("chinese_speech");
    
        // Reset flip state on load
        document.getElementById('btnControl1').checked = false;
        document.getElementById('btnControl2').checked = false;
        document.getElementById('btnControl3').checked = false;
        document.getElementById('btnControl4').checked = false;
        document.getElementById('btnControl5').checked = false;
        document.getElementById('btnControl6').checked = false;
    
        // Flip cards after load
        setTimeout(doHover1, 1000);
        setTimeout(doHover2, 1200);
        setTimeout(doHover3, 1400);
        setTimeout(doHover4, 1600);
        setTimeout(doHover5, 1800);
        setTimeout(doHover6, 2000);
    
        // Cantonese number mapping (Jyutping)
        const cantoneseNumbers = {
            "0": "ling4", "1": "jat1", "2": "ji6", "3": "saam1", "4": "sei3",
            "5": "ng5", "6": "luk6", "7": "cat1", "8": "baat3", "9": "gau2"
        };
    
        // Mandarin number mapping (Simplified Characters)
        const mandarinNumbers = {
            "0": "零", "1": "一", "2": "二", "3": "三", "4": "四",
            "5": "五", "6": "六", "7": "七", "8": "八", "9": "九"
        };
    
        function numberToCantonese(num) {
            const digits = num.split('');
            const secondDigit = digits[1];
            const lastDigit = digits[digits.length - 1];
    
            if (digits.length === 3) {
                if (secondDigit === "0") {
                    // e.g., "103" -> "jat1 baak3 saam1"
                    if (lastDigit === "0") {
                        // e.g., "100" -> "jat1 baak3"
                        return `${cantoneseNumbers[digits[0]]} baak3`;
                    }
                    return `${cantoneseNumbers[digits[0]]} baak3 ${cantoneseNumbers[digits[2]]}`;
                } else if (lastDigit === "0") {
                    // e.g., "130" -> "jat1 baak3 saam1 sap6"
                    return `${cantoneseNumbers[digits[0]]} baak3 ${cantoneseNumbers[digits[1]]} sap6`;
                }
                // e.g., "123" -> "jat1 baak3 ji6 sap6 saam1"
                return `${cantoneseNumbers[digits[0]]} baak3 ${cantoneseNumbers[digits[1]]} sap6 ${cantoneseNumbers[digits[2]]}`;
            } else if (digits.length === 2) {
                // 2-digit: e.g., "10" -> "jat1 sap6"
                if (lastDigit === "0") {
                    return `${cantoneseNumbers[digits[0]]} sap6`;
                }
                return `${cantoneseNumbers[digits[0]]} sap6 ${cantoneseNumbers[digits[1]]}`;
            } else {
                // 1-digit: e.g., "1" -> "jat1"
                return cantoneseNumbers[digits[0]];
            }
        }
    
        function numberToMandarin(num) {
            const digits = num.split('');
            const secondDigit = digits[1];
            const lastDigit = digits[digits.length - 1];
    
            if (digits.length === 3) {
                if (secondDigit === "0") {
                    // e.g., "103" -> "一 百 三"
                    if (lastDigit === "0") {
                        // e.g., "100" -> "一 百"
                        return `${mandarinNumbers[digits[0]]} 百`;
                    }
                    return `${mandarinNumbers[digits[0]]} 百 ${mandarinNumbers[digits[2]]}`;
                } else if (lastDigit === "0") {
                    // e.g., "130" -> "一 百 三 十"
                    return `${mandarinNumbers[digits[0]]} 百 ${mandarinNumbers[digits[1]]} 十`;
                }
                // e.g., "123" -> "一 百 二 十 三"
                return `${mandarinNumbers[digits[0]]} 百 ${mandarinNumbers[digits[1]]} 十 ${mandarinNumbers[digits[2]]}`;
            } else if (digits.length === 2) {
                // 2-digit: e.g., "10" -> "一 十"
                if (lastDigit === "0") {
                    return `${mandarinNumbers[digits[0]]} 十`;
                }
                return `${mandarinNumbers[digits[0]]} 十 ${mandarinNumbers[digits[1]]}`;
            } else {
                // 1-digit: e.g., "1" -> "一"
                return mandarinNumbers[digits[0]];
            }
        }
    
        function speakNumbers() {
            console.log("speakNumbers called");
            const numbers = [
                document.getElementById("Qoos2").innerText,
                document.getElementById("Qoos4").innerText,
                document.getElementById("Qoos6").innerText,
                document.getElementById("Qoos8").innerText,
                document.getElementById("Qoos10").innerText,
                document.getElementById("Qoos12").innerText
            ].filter(num => num !== "000");
    
            console.log("Numbers to speak:", numbers);
    
            if (numbers.length > 0) {
                console.log("Starting sequence with Audio1");
                audio1.play();
                audio1.onended = () => {
                    console.log("Audio1 finished, starting Cantonese numbers");
                    const cantoneseText = numbers.map(num => numberToCantonese(num)).join(", ");
                    const cantoneseUtterance = new SpeechSynthesisUtterance(cantoneseText);
                    cantoneseUtterance.lang = 'yue';
                    cantoneseUtterance.rate = 0.5; // Keeping slower rate from previous request
                    cantoneseUtterance.onstart = () => console.log("Cantonese numbers started");
                    cantoneseUtterance.onend = () => {
                        console.log("Cantonese numbers finished, starting Audio2");
                        audio2.play();
                        audio2.onended = () => {
                            console.log("Audio2 finished, starting English numbers");
                            const englishUtterance = new SpeechSynthesisUtterance(numbers.join(", "));
                            englishUtterance.lang = 'en-US';
                            englishUtterance.rate = 0.5; // Keeping slower rate
                            englishUtterance.onstart = () => console.log("English numbers started");
                            englishUtterance.onend = () => {
                                console.log("English numbers finished, starting Audio3");
                                audio3.play();
                                audio3.onended = () => {
                                    console.log("Audio3 finished, starting Mandarin numbers");
                                    const mandarinText = numbers.map(num => numberToMandarin(num)).join(", ");
                                    console.log("Mandarin text to speak:", mandarinText);
                                    const mandarinUtterance = new SpeechSynthesisUtterance(mandarinText);
                                    mandarinUtterance.lang = 'zh-CN';
                                    mandarinUtterance.rate = 0.5; // Keeping slower rate
                                    mandarinUtterance.onstart = () => console.log("Mandarin numbers started");
                                    mandarinUtterance.onend = () => console.log("Mandarin numbers finished");
                                    mandarinUtterance.onerror = (event) => console.error("Mandarin error:", event.error);
                                    window.speechSynthesis.speak(mandarinUtterance);
                                };
                            };
                            englishUtterance.onerror = (event) => console.error("English error:", event.error);
                            window.speechSynthesis.speak(englishUtterance);
                        };
                    };
                    cantoneseUtterance.onerror = (event) => console.error("Cantonese error:", event.error);
                    window.speechSynthesis.speak(cantoneseUtterance);
                };
            } else {
                console.log("No numbers to speak");
            }
        }
    
        window.onload = function() {
            console.log("Page loaded");
            setTimeout(speakNumbers, 1000);
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'91ba4e323d606766',t:'MTc0MTE4NDk2NS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>